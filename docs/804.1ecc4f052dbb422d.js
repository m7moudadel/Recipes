"use strict";(self.webpackChunkshopping=self.webpackChunkshopping||[]).push([[804],{4804:(v,m,d)=>{d.r(m),d.d(m,{EditRecipeComponent:()=>g});var t=d(95),c=d(6814),e=d(4946),u=d(2895),p=d(5970);function _(s,f){1&s&&(e.TgZ(0,"div",17)(1,"div",18)(2,"label",6),e._uU(3,"Name"),e.qZA(),e._UZ(4,"input",19),e.qZA(),e.TgZ(5,"div",20)(6,"label",21),e._uU(7,"Amount"),e.qZA(),e._UZ(8,"input",22),e.qZA(),e.TgZ(9,"div",20)(10,"button",23),e._uU(11,"\nX\n"),e.qZA()()()),2&s&&e.Q6J("formGroupName",f.index)}let g=(()=>{class s{constructor(i,o,n){this._Route=i,this._RecipeList=o,this._Router=n,this.editMode=!1}ngOnInit(){this._Route.params.subscribe(i=>{this.id=i.id,this.editMode=null!=i.id}),this.initForm()}onSubmit(){this.editMode?this._RecipeList.updateRecipe(this.id,this.recipeForm.value):this._RecipeList.addNewRecipe(this.recipeForm.value),this.onCancelled()}onAddIngredients(){this.recipeForm.get("ingredients").push(new t.cw({name:new t.NI("",t.kI.required),amount:new t.NI("",[t.kI.required,t.kI.pattern(/^[1-9]+[0-9]*$/)])}))}initForm(){let i="",o="",n="",r=new t.Oe([]);if(this.editMode){const a=this._RecipeList.getRecipe(this.id);if(i=a.name,o=a.imagePath,n=a.describtion,a&&a.ingredients&&Array.isArray(a.ingredients))for(let l of a.ingredients)r.push(new t.cw({name:new t.NI(l.name,t.kI.required),amount:new t.NI(l.amount,[t.kI.required,t.kI.pattern(/^[1-9]+[0-9]*$/)])}))}this.recipeForm=new t.cw({name:new t.NI(i,t.kI.required),imagePath:new t.NI(o,t.kI.required),describtion:new t.NI(n,t.kI.required),ingredients:r})}onCancelled(){this._Router.navigate(["../"],{relativeTo:this._Route})}static#e=this.\u0275fac=function(o){return new(o||s)(e.Y36(u.gz),e.Y36(p.G),e.Y36(u.F0))};static#t=this.\u0275cmp=e.Xpm({type:s,selectors:[["app-edit-recipe"]],standalone:!0,features:[e.jDz],decls:37,vars:3,consts:[[1,"row"],[1,"col-xs-12"],[3,"formGroup","ngSubmit"],["type","submit",1,"btn","btn-success","me-2",3,"disabled"],["type","button",1,"btn","btn-danger",3,"click"],[1,"group-item"],["for","name"],["type","text","id","name","formControlName","name",1,"form-control"],["for","imagePath"],["type","text","id","imagePath","formControlName","imagePath",1,"form-control"],["src","",1,"image-responsive"],["for","description"],["name","","id","description","rows","6","formControlName","describtion",1,"form-control"],[1,"row","gy-2"],["formArrayName","ingredients",1,"col-xs-12"],["class","row py-2",3,"formGroupName",4,"ngFor","ngForOf"],["type","button",1,"btn","btn-success",3,"click"],[1,"row","py-2",3,"formGroupName"],[1,"col-xs-12","col-md-8"],["id","name","type","text","formControlName","name",1,"form-control","my-2"],[1,"col-xs-12","col-md-2"],["for","amount"],["id","amount","type","number","formControlName","amount",1,"form-control","my-2"],[1,"btn","btn-danger"]],template:function(o,n){if(1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"form",2),e.NdJ("ngSubmit",function(){return n.onSubmit()}),e.TgZ(3,"div",0)(4,"div",1)(5,"button",3),e._uU(6,"Save"),e.qZA(),e.TgZ(7,"button",4),e.NdJ("click",function(){return n.onCancelled()}),e._uU(8,"Cancle"),e.qZA()(),e.TgZ(9,"div",0)(10,"div",1)(11,"div",5)(12,"label",6),e._uU(13,"Name"),e.qZA(),e._UZ(14,"input",7),e.qZA()()(),e.TgZ(15,"div",0)(16,"div",1)(17,"div",5)(18,"label",8),e._uU(19,"Image URL"),e.qZA(),e._UZ(20,"input",9),e.qZA()()(),e.TgZ(21,"div",0)(22,"div",1),e._UZ(23,"img",10),e.qZA()(),e.TgZ(24,"div",0)(25,"div",1)(26,"div",5)(27,"label",11),e._uU(28,"Description"),e.qZA(),e._UZ(29,"textarea",12),e.qZA()()(),e.TgZ(30,"div",13)(31,"div",14),e.YNc(32,_,12,1,"div",15),e.qZA(),e.TgZ(33,"div",0)(34,"div",1)(35,"button",16),e.NdJ("click",function(){return n.onAddIngredients()}),e._uU(36,"Add New Ingredients"),e.qZA()()()()()()()()),2&o){let r;e.xp6(2),e.Q6J("formGroup",n.recipeForm),e.xp6(3),e.Q6J("disabled",!n.recipeForm.valid),e.xp6(27),e.Q6J("ngForOf",null==(r=n.recipeForm.get("ingredients"))?null:r.value)}},dependencies:[t.UX,t._Y,t.Fj,t.wV,t.JJ,t.JL,t.sg,t.u,t.x0,t.CE,c.ez,c.sg],styles:["input.ng-invalid.ng-touched[_ngcontent-%COMP%], textarea.ng-invalid.ng-touched[_ngcontent-%COMP%]{border:1px solid red}"]})}return s})()}}]);